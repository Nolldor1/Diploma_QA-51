# План автоматизации тестирования
## Перечень автоматизируемых сценариев:
### Данные:
- валидный номер карты - 4444 4444 4444 4441;
- не валидный номер карты - 4444 4444 4444 4440.

### Позитивные тест-кейсы:
1. **Оплата картой:**
    **Открыть** [страницу](https://localhost:8080/) => кликнуть кнопку "Купить" (оплата картой) => в открывшемся окне в доступных полях ввести данные => кликнуть "Продолжить";  
    `Результат:`
    
    - данные успешно отправлены и доступны для просмотра в базе данных;
    - выходит всплывающее окно, о том, что операция одобрена банком.
2. **Оплата в кредит:**
    **Открыть** [страницу](https://localhost:8080/) => кликнуть кнопку "Купить в кредит" => в открывшемся окне в доступных полях ввести данные => кликнуть "Продолжить";  
      `Результат:`
      
    - данные успешно отправлены и доступны для просмотра в базе данных;
    - выходит всплывающее окно, о том, что операция одобрена банком.
### Негативные тест-кейсы:
1. **Незаполненная форма:**
    **Открыть** [страницу](https://localhost:8080/) => кликнуть "Купить" (оплата картой) => кликнуть "Продолжить";  
      `Результат:`
      
      - данные не отправлены;
      - должно появиться сообщение `Неверный формат` под полем "Номер карты";
      - должно появиться сообщение `Неверный формат`под полем "Месяц";
      - должно появиться сообщение `Неверный формат`под полем "Год";
      - должно появиться сообщение `Поле обязательно для заполнения`под полем "Владелец";
      - доолжно появиться сообщение `Неверный формат`под полем "CVC/CVV".
2. **Незаполненное поле "Номер карты"/неверный ввод данных в поле "Номер карты":**

    2.1. **Открыть** [страницу](https://localhost:8080/) => кликнуть кнопку "Купить" (оплата картой) => поле "Номер карты" **оставить пустым**, остальные поля заполнить валидными данными => кликнуть"Продолжить";  
      `Результат:`
      
        - данные не отправлены;
        - должно появиться сообщение `Неверный формат` под полем "Номер карты".
    2.2. **Открыть** [страницу](https://localhost:8080/) => кликнуть кнопку "Купить" (оплата картой) => в поле "Номер карты" **ввести не полный номер** (4444 4444 4444 444), остальные поля заполнить валидными данными => кликнуть "Продолжить";
      
       `Результат:`
       
      - данные не отправлены;
      - должно появиться сообщение `Неверный формат` под полем "Номер карты".
   
    2.3. **Открыть** [страницу](https://localhost:8080/) => кликнуть кнопку "Купить" (оплата картой) => в поле "Номер карты" **ввести не валидный номер**, остальные поля заполнить валидными данными => кликнуть  "Продолжить";  
    
       `Результат:`
       
        - данные успешно отправлены и могут быть просмотрены в соответствующей базе данных
        - появится всплывающее окно об отказе в проведении операции банком.
1. **Поле "Месяц":**
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> поле "Месяц" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверный формат`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (в пределах 01-12), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (нижнее граничное значение 00), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Месяц" **ввести не валидный месяц** (верхнее граничное значение 13), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Месяц" появится сообщение `Неверно указан срок действия карты`.
1. **Поле "Год":**
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> поле "Год" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Год" появится сообщение `Неверный формат`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Год" **ввести не валидный год** (текущий год - 1), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Год" появится сообщение `Истёк срок действия карты`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Год" **ввести не валидный год** (текущий год + 6), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Год" появится сообщение `Неверно указан срок действия карты`.
1. **Поле "Владелец":**
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> поле "Владелец" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Поле обязательно для заполнения`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **ввести " "**(пробел), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Поле обязательно для заполнения`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **ввести #&**(два любых спецсимвола), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Неверный формат имени владельца`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "Владелец" **ввести двузначное число**(10-99), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "Владелец" появится сообщение `Неверный формат имени владельца`.
1. **Поле "CVC/CVV":**
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> поле "CVC/CVV" **оставить пустым**, остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.
    - **Открыть** [страницу покупки тура](https://localhost:8080/) -> кликнуть кнопку "Купить" (оплата картой) -> в поле "CVC/CVV" **ввести двузначное число**(10-99), остальные поля заполнить валидными данными -> кликнуть кнопку "Продолжить";  
      `Результат:`
        - данные не отправлены;
        - под полем "CVC/CVV" появится сообщение `Неверный формат`.
- **`Негативные тест-кейсы повторяются для покупки в кредит.`**
## Перечень используемых инструментов с обоснованием выбора:
- IntelliJ IDEA JDK 11, так автотесты будут написаны на Java;
- JUnit Jupiter 5, основа для тестов;
- Gradle, инструмент управления зависимостями;
- DBeaver, для работы с базами данных;
- Selenide, для работы с браузером при написании автотестов;
- MySQL connector Java, PostgreSQL и Commons DBUtils, для доступа к базе данным из кода авто-тестов;
- Project Lombok, для упрощения написания кода;
- Faker, для генерации данных при заполнении форм;
- GitHub, в качестве удаленного репозитория;
- Allure, для создания отчетов о выполнении авто-тестов;

## Перечень и описание возможных рисков при автоматизации:
- Своеобразная настройка SUT при запуске (заявлена поддержка двух СУБД);
- Отсутствие как таковой спецификации на приложение;
- Необходимость добавления новых тестов для заказчика, при отсутствии документации и спецификации на приложение;
- Зависимость авто-тестов от текущей реализации веб-элементов, даже не значительное их изменение может привести к падению авто-тестов;
- Авто-тесты не проверяют графическую составляющую, а именно едет ли верстка при тех или иных действиях, комфортна ли выбранная цветовая схема оформления и тд.
## Интервальная оценка с учётом рисков (в часах):
- Ориентировочно, 96 рабочих часов.
## План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации):
1. Написание тестов до 10 апреля 2022;
2. Предоставление отчетов до 15 апреля 2022:
- Подготовка к проведению тестирования (запуск SUT, подготовка плана автоматизации) - 16 часов;
- Написание и прогон авто-тестов - 40 часов;
- Написание баг-репортов - 8 часов;
- Оформление отчёта по итогам тестирования - 8 часов;
- Оформление отчёта по итогам автоматизации - 16 часов.
